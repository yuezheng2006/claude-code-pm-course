---
title: "2.2: 分析数据"
description: "使用 AI 分析的数据驱动产品决策。使用 Claude Code 分析漏斗、估算 ROI、分割 A/B 测试并做出发货/终止决策。"
keywords: '产品分析, 数据分析, A/B 测试, 产品指标, 漏斗分析, ROI 计算'
---

## 2.2: 分析数据

 - **完成时间：** 60-75 分钟
 - **先修要求：** 模块 2.1（撰写 PRD）、对 CSV 文件和产品指标的基本了解


> **在 Claude Code 中开始此模块：** 运行 `/start-2-2` 开始互动体验。

## 📖 概述

模块 2.2 教你完整的产品经理工作流程，用于数据驱动的功能开发：通过数据分析发现问题、在构建前估算业务影响，以及分析实验结果做出发货/终止决策。

**关键要点：** 永远不要止于顶级指标 - 总是按目标客户分割，检查质量而不是数量，并寻找预测长期成功的领先指标。


## 🎯 三阶段工作流程

| 阶段 | 目的 | 交付物 |
|------|------|--------|
| **发现** | 通过数据发现问题（漏斗 + 调查） | `problem-analysis.md`，包含定量和定性证据 |
| **影响估算** | 构建 ROI 模型以证明工程投资合理性 | `impact-estimate.md` 和 `roi-scenarios.md`，包含 3 个场景 |
| **实验分析** | 超越顶级指标分析 A/B 测试结果 | `experiment-readout.md`，包含发货/迭代/终止建议 |


## 📊 影响估算框架

### 公式

```
影响 = 受影响用户数 × 当前行动率 × 预期提升 × 每次行动价值
```

### 组成部分

**受影响用户数**
- 多少用户会看到这个功能？
- 考虑渐进式推出（不总是 100%）
- 示例：每月 5,000 个注册 × 70% 看到功能 = 3,500 个受影响用户

**当前行动率**
- 当前有多少百分比的用户采取期望行动？
- 从分析工具获取（Mixpanel、Amplitude）
- 示例：45% 激活率（4,500 中 2,025 个完成第一个任务）

**预期提升**
- 这个功能会将比率提升多少？
- 来源：你发布的类似功能、竞争对手基准、用户研究、专家判断
- 示例：调查显示 60% 由于"需要例子"而流失。保守估计恢复 30% → 估算 13pp 提升（45% → 58%）

**每次行动价值**
- 每个增量行动值多少钱？
- 对于激活：LTV × 转化率
- 对于留存：扩展的 LTV
- 对于病毒式传播：邀请接受 × 激活 × 转化 × LTV
- 示例：激活用户 → 60% 转化 × $12/月 × 24 个月 = 每次激活 $172.80 LTV

### 三场景方法

始终用悲观、现实和乐观场景建模不确定性：

| 场景 | 采用率 | 提升 | 用例 |
|------|--------|------|------|
| **悲观**（第 20 百分位） | 30% | 45% → 50% | 最小预期影响 |
| **现实**（第 50 百分位） | 70% | 45% → 58% | 最可能情况 |
| **乐观**（第 80 百分位） | 90% | 45% → 62% + 留存提升 | 最佳情况场景 |

**向领导层展示所有三个场景**，让他们了解结果范围并做出明智的赌注。


## 🔬 实验分析框架

### 分析层次结构

**1. 顶级指标**
```
计算对照组和处理组的整体激活率
```
- 整体影响的快速快照
- 不足以做出决策

**2. 统计显著性**
```
计算对照组和处理组之间的统计显著性
```
- p < 0.05：统计显著（小于 5% 机会是随机的）
- 95% CI：可信效应大小范围
- 宽 CI = 高不确定性，即使 p < 0.05

**3. 细分分析**
```
按 company_size 细分实验结果，并计算每个细分的激活率
```
- 功能对不同用户类型有不同效果
- 顶级平均值可能隐藏细分胜利
- 在决定前始终按目标客户细分

**4. 质量指标**
```
在激活用户中，计算两个队列的第 1 周留存
```
- 激活率 = 多少用户激活
- 留存 = 那些是否是好的激活
- 检查：第 1 周留存、参与度指标、长期留存

**5. 领先指标**
```
比较队列间的模板使用和邀请率
```
- 功能采用：用户是否参与新功能？
- 病毒指标：用户是否邀请队友？
- 参与深度：用户是否使用高级功能？
- 领先指标预测未来成功


## 💼 Claude Code 数据分析

### Claude 能做什么

**直接读取 CSV 文件：**
```
读取 activation-funnel-q4.csv 并计算每个步骤的流失率
```

**即时处理数千行：**
```
分析 onboarding-experiment-results.csv 中的 8,000 行数据并按
公司规模细分激活率
```

**构建 ROI 模型：**
```
使用 impact-estimation-framework.md 中的框架构建影响估算模型
```

**运行统计分析：**
```
计算对照组和处理组之间的统计显著性，包含 p 值和置信区间
```

**交叉引用数据源：**
```
分析 activation-funnel-q4.csv 中的漏斗数据并关联
user-survey-responses.csv 中的用户反馈
```

### 示例 CSV 结构

**漏斗数据 (activation-funnel-q4.csv)：**
```csv
step,users_entered,users_completed,completion_rate,median_time_to_complete
Signup,10000,10000,1.0,0
First Task Created,10000,7200,0.72,18
First Task Completed,7200,2880,0.40,45
Invite Sent,2880,1440,0.50,24
```

**实验数据 (onboarding-experiment-results.csv)：**
```csv
user_id,cohort,company_size,completed_first_task,invited_teammate,tasks_completed_week_1
control_user_0001,control,5-20,True,False,4
control_user_0002,control,5-20,False,False,0
treatment_user_0001,treatment,5-20,True,True,8
```

Claude 读取这些并以格式化表格呈现洞察。


## 💡 真实世界示例

### 发现：卡住的激活率

**情况：** 激活率在 45% 停滞了 6 个月。

**分析工作流程：**
1. `读取 activation-funnel-q4.csv 并找到最大流失点` → 任务完成时 60% 流失
2. `分析 user-survey-responses.csv 并提取顶级投诉` → 需要例子/模板
3. 交叉引用：流失与调查反馈相关
4. 合成：创建包含定量和定性证据的 `problem-analysis.md`

**结果：** 由数据支持的清晰问题陈述，准备好利益相关者对齐。

### 影响估算：证明引导式入门合理性

**情况：** 提出的 $100k 功能（4 工程月）。工程团队怀疑，领导层想要 ROI。

**分析工作流程：**
1. `分析 taskflow-usage-data-q4.csv 以计算当前激活率` → 45% 基准
2. 基于调查数据估算提升（60% 需要例子 → 保守恢复 30% → 13pp 提升）
3. `构建完整的 ROI 模型，包含基准、预测和业务影响`
4. `生成悲观、现实和乐观场景`

**结果：** 3 年内 9.4x ROI（现实），即使在悲观情况下也是 2.6x。构建获批。

### 实验分析：揭示隐藏的胜利

**情况：** 顶级显示 45% → 48%（+2.6pp，p=0.04）。团队失望。

**分析工作流程：**
1. 检查顶级 → 温和 +2.6pp
2. `按 company_size 细分结果` → 小团队：+11.4pp（巨大！），企业：-3.5pp（负面）
3. `在激活用户中，计算第 1 周留存` → 处理：78% vs 对照：60%
4. `比较模板使用和邀请率` → 模板使用 3.2x 更高，邀请率 35% vs 12%

**结果：** 看起来像失败的东西对目标细分来说是巨大胜利。只向小团队发货，排除企业。


## 🎯 最佳实践

### 分析方法

**要做的：**
- 在构建前始终用数据验证假设
- 为每个估算创建三个场景（承认不确定性）
- 按目标客户细分（顶级可能隐藏胜利）
- 检查质量指标（留存 > 激活计数）
- 寻找预测长期成功的领先指标
- 交叉引用定量 + 定性数据

**不要做的：**
- 在没有细分的情况下止于顶级指标
- 使用单点估算（使用范围和场景）
- 假设 100% 采用（考虑渐进式推出）
- 忽略负面细分（从推出中排除它们）
- 在检查细分和质量前终止实验
- 过度优化提升估算（保持保守）

### 提升估算来源

**最佳到最差：**
1. **你的历史数据** - 过去的实验是最好的预测因子
2. **用户研究** - 调查显示 60% 由于 X 而流失 → 修复 X 恢复 Y%
3. **竞争对手基准** - 类似功能的行业标准
4. **专家判断** - 来自工程/设计/PM 的团队估算

### 专业提示

**构建提升估算库**
跟踪每个功能的估算 vs 实际提升。5-10 个功能后，你会变得更擅长估算。

**前置令人失望的消息**
先展示温和的顶级，然后揭示细分胜利。教导利益相关者始终深入挖掘。

**自动化分析脚本**
保存漏斗分析、细分和 ROI 建模的提示。跨功能重用。


## 📁 处理 CSV 数据

### 常见数据源

| 平台 | 导出类型 |
|------|----------|
| Mixpanel、Amplitude | 使用事件、漏斗 |
| Optimizely、LaunchDarkly | A/B 测试结果 |
| Qualtrics、SurveyMonkey | 调查响应 |
| Google Analytics | 流量/转化数据 |

**Claude Code 可以直接读取 CSV、TSV 和 JSON。**

### 查看 CSV 文件

**选项：**
- **Excel 或 Google Sheets** - 最适合视觉探索数据
- **VS Code** - 适合查看原始结构
- **让 Claude 读取它** - Claude 以干净的 markdown 表格格式化数据

**推荐：** 让 Claude 读取和分析 CSV，以格式化表格呈现结果。只有在需要验证特定数据点时才查看原始 CSV。


## 🐛 故障排除

**Claude 无法读取我的 CSV 文件**
- 使用 `ls` 或文件浏览器检查文件路径
- 使用正确的相对路径（例如，`data/experiment-results.csv`）
- 验证文件扩展名是 `.csv` 而不是 `.CSV`（某些系统区分大小写）

**结果与我在 Excel 中看到的不匹配**
- 让 Claude 逐步显示计算过程
- 验证 Claude 使用的是正确的列
- 询问：`解释你如何从这个 CSV 计算激活率`

**统计显著性似乎错了**
- 检查样本大小：需要 ~400+ 用户/队列才能进行可靠测试
- 记住：`p<0.05` 意味着"小于 5% 机会是随机的"，不是"5% 错误"
- 宽置信区间 = 高不确定性，即使 p<0.05

**细分分析显示冲突结果**
- 这不是 bug - 这是洞察！
- 功能经常对目标细分获胜而对其他细分失败
- 解决方案：向获胜细分发货，排除失败细分


## 📖 关键术语

| 术语 | 定义 |
|------|------|
| **激活率** | 注册用户完成关键行动的百分比 |
| **置信区间** | 真实效应大小的可信值范围（例如，95% CI：[0.1%, 5.1%]） |
| **漏斗分析** | 通过顺序步骤跟踪用户以识别流失点 |
| **领先指标** | 预测未来成功的早期指标（例如，邀请率预测留存） |
| **提升** | 指标改善（例如，激活 45% → 58% = +13pp 提升） |
| **LTV（终身价值）** | 客户整个关系中的总收入 |
| **p 值** | 观察到的效应由于随机机会的概率（`p<0.05` = 统计显著） |
| **ROI** | 生成的收入或价值除以成本（例如，9.4x ROI） |
| **细分** | 按共享特征分组的用户子集（例如，公司规模、角色） |
| **顶级指标** | 细分前的整体平均指标 |


## 🚀 下一步是什么？

你现在了解了如何分析漏斗和调查数据，使用场景分析构建 ROI 模型，以及超越顶级指标分析 A/B 测试，将 Claude Code 作为你的数据分析伙伴。

**模块 2.3：** 学习**竞争研究和战略分析** - 使用并行代理进行快速竞争研究并应用战略框架。

互动轨道：输入 `/start-2-3`


---

**关于本课程**

由 [Carl Vellotti](https://www.linkedin.com/in/yuezheng2006/) 创建。如果您对这个模块或整个课程有任何反馈，请给我留言！我正在为 PM 构建者建立一个新闻通讯和社区，请查看 [The Full Stack PM](https://fullstack-pm.com/subscribe?utm_source=ccforpms&utm_medium=course&utm_campaign=analyze-data)。

**源码仓库：** [github.com/yuezheng2006/claude-code-pm-course](https://github.com/yuezheng2006/claude-code-pm-course)
